Enter password: ****
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 38
Server version: 8.0.44 MySQL Community Server - GPL

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| demodb             |
| information_schema |
| mysql              |
| performance_schema |
| sakila             |
| sys                |
| world              |
+--------------------+
7 rows in set (0.06 sec)

mysql> use demodb;
Database changed
mysql> show tables;
+------------------+
| Tables_in_demodb |
+------------------+
| countries        |
| department       |
| emp              |
| job_history      |
| jobs             |
| manager          |
+------------------+
6 rows in set (0.02 sec)

mysql> create table members
    -> (member_id int primary key,member_name varchar(30),
    -> member_address varchar(50), acc_open_date date,
    -> membership_type ENUM('Lifetime', 'Annual', 'Half Yearly', 'Quarterly'),
    -> fees_paid int, max_books_allowed int,
    -> penalty_amount decimal(7,2));
Query OK, 0 rows affected (0.09 sec)

mysql> describe members;
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Field             | Type                                                | Null | Key | Default | Extra |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| member_id         | int                                                 | NO   | PRI | NULL    |       |
| member_name       | varchar(30)                                         | YES  |     | NULL    |       |
| member_address    | varchar(50)                                         | YES  |     | NULL    |       |
| acc_open_date     | date                                                | YES  |     | NULL    |       |
| membership_type   | enum('Lifetime','Annual','Half Yearly','Quarterly') | YES  |     | NULL    |       |
| fees_paid         | int                                                 | YES  |     | NULL    |       |
| max_books_allowed | int                                                 | YES  |     | NULL    |       |
| penalty_amount    | decimal(7,2)                                        | YES  |     | NULL    |       |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
8 rows in set (0.02 sec)

mysql> show create table members;
+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| members | CREATE TABLE `members` (
  `member_id` int NOT NULL,
  `member_name` varchar(30) DEFAULT NULL,
  `member_address` varchar(50) DEFAULT NULL,
  `acc_open_date` date DEFAULT NULL,
  `membership_type` enum('Lifetime','Annual','Half Yearly','Quarterly') DEFAULT NULL,
  `fees_paid` int DEFAULT NULL,
  `max_books_allowed` int DEFAULT NULL,
  `penalty_amount` decimal(7,2) DEFAULT NULL,
  PRIMARY KEY (`member_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)

mysql> create table library
    -> (book_no int, book_name varchar(30),
    -> author_name varchar(30), cost decimal(7,2),
    -> category char(10));
Query OK, 0 rows affected (0.03 sec)

mysql> describe library;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> create table books
    -> (lib_issue_id int, book_no int, member_id int,
    -> issue_date date, return date);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'return date)' at line 3
mysql> create table books
    -> (lib_issue_id int, book_no int, member_id int,
    -> issue_date date, return_date date);
Query OK, 0 rows affected (0.03 sec)

mysql> describe books;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| lib_issue_id | int  | YES  |     | NULL    |       |
| book_no      | int  | YES  |     | NULL    |       |
| member_id    | int  | YES  |     | NULL    |       |
| issue_date   | date | YES  |     | NULL    |       |
| return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> alter table member
    -> drop primary key;
ERROR 1146 (42S02): Table 'demodb.member' doesn't exist
mysql> alter table members
    -> drop primary key;
Query OK, 0 rows affected (0.06 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe members;
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Field             | Type                                                | Null | Key | Default | Extra |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| member_id         | int                                                 | NO   |     | NULL    |       |
| member_name       | varchar(30)                                         | YES  |     | NULL    |       |
| member_address    | varchar(50)                                         | YES  |     | NULL    |       |
| acc_open_date     | date                                                | YES  |     | NULL    |       |
| membership_type   | enum('Lifetime','Annual','Half Yearly','Quarterly') | YES  |     | NULL    |       |
| fees_paid         | int                                                 | YES  |     | NULL    |       |
| max_books_allowed | int                                                 | YES  |     | NULL    |       |
| penalty_amount    | decimal(7,2)                                        | YES  |     | NULL    |       |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> show create table members;
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| members | CREATE TABLE `members` (
  `member_id` int NOT NULL,
  `member_name` varchar(30) DEFAULT NULL,
  `member_address` varchar(50) DEFAULT NULL,
  `acc_open_date` date DEFAULT NULL,
  `membership_type` enum('Lifetime','Annual','Half Yearly','Quarterly') DEFAULT NULL,
  `fees_paid` int DEFAULT NULL,
  `max_books_allowed` int DEFAULT NULL,
  `penalty_amount` decimal(7,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> describe members;
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Field             | Type                                                | Null | Key | Default | Extra |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| member_id         | int                                                 | NO   |     | NULL    |       |
| member_name       | varchar(30)                                         | YES  |     | NULL    |       |
| member_address    | varchar(50)                                         | YES  |     | NULL    |       |
| acc_open_date     | date                                                | YES  |     | NULL    |       |
| membership_type   | enum('Lifetime','Annual','Half Yearly','Quarterly') | YES  |     | NULL    |       |
| fees_paid         | int                                                 | YES  |     | NULL    |       |
| max_books_allowed | int                                                 | YES  |     | NULL    |       |
| penalty_amount    | decimal(7,2)                                        | YES  |     | NULL    |       |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> describe library;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> describe books;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| lib_issue_id | int  | YES  |     | NULL    |       |
| book_no      | int  | YES  |     | NULL    |       |
| member_id    | int  | YES  |     | NULL    |       |
| issue_date   | date | YES  |     | NULL    |       |
| return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> drop members;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'members' at line 1
mysql> drop table members;
Query OK, 0 rows affected (0.03 sec)

mysql> create table members
    -> (Member_id int, Member_name varchar(30),
    -> Member_address varchar(50), acc_open_date date,
    -> membership_type enum('Lifetime', 'Annual', 'Half Yearly', 'Quarterly'),
    -> fees_paid int, max_books_allowed int, penalty_amount decimal(7,2),
    -> primary key(Member_id));
Query OK, 0 rows affected (0.03 sec)

mysql> describe members;
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Field             | Type                                                | Null | Key | Default | Extra |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Member_id         | int                                                 | NO   | PRI | NULL    |       |
| Member_name       | varchar(30)                                         | YES  |     | NULL    |       |
| Member_address    | varchar(50)                                         | YES  |     | NULL    |       |
| acc_open_date     | date                                                | YES  |     | NULL    |       |
| membership_type   | enum('Lifetime','Annual','Half Yearly','Quarterly') | YES  |     | NULL    |       |
| fees_paid         | int                                                 | YES  |     | NULL    |       |
| max_books_allowed | int                                                 | YES  |     | NULL    |       |
| penalty_amount    | decimal(7,2)                                        | YES  |     | NULL    |       |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> alter table members
    -> modify Member_name varchar(30);
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> rename table library to issue;
Query OK, 0 rows affected (0.03 sec)

mysql> alter table issue
    -> add column reference char(10);
Query OK, 0 rows affected (0.06 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe issue;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
| reference   | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
6 rows in set (0.00 sec)

mysql> alter table issue
    -> modify reference varchar(30);
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe issue;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
| reference   | varchar(30)  | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
6 rows in set (0.00 sec)

mysql> alter table issue
    -> drop column reference;
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe issue;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> raname table issue to lib_issue;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'raname table issue to lib_issue' at line 1
mysql> rename table issue to lib_issue;
Query OK, 0 rows affected (0.02 sec)

mysql> describe lib_issue;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> insert into members
    -> values
    -> (1, "richa sharma", "pune", "2010-12-05", "Lifetime", 25000,5,50),
    -> (2, "garima sen", "pune", "2025-11-27", "Annual", 1000,3,Null);
Query OK, 2 rows affected (0.02 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | Member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
|         2 | garima sen   | pune           | 2025-11-27    | Annual          |      1000 |                 3 |           NULL |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
2 rows in set (0.00 sec)

mysql> delete from members
    -> where member_id=2;
Query OK, 1 row affected (0.01 sec)

mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | Member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
1 row in set (0.00 sec)

mysql> insert into members
    -> values
    -> (2, "garima sen", "pune", current(), "Annual", 1000,3,Null);l)
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(), "Annual", 1000,3,Null)' at line 3
    -> insert into members
    -> values
    -> (2, "garima sen", "pune", curdate(), "Annual", 1000,3,Null);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'l)
insert into members
values
(2, "garima sen", "pune", curdate(), "Annual", 100' at line 1
mysql> insert into members
    -> values
    -> (2, "garima sen", "pune", CURDATE(), "Annual", 1000,3,Null);
Query OK, 1 row affected (0.01 sec)

mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | Member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
|         2 | garima sen   | pune           | 2025-11-27    | Annual          |      1000 |                 3 |           NULL |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
2 rows in set (0.00 sec)

mysql> insert into members
    -> values
    -> (3, "vikas sharma", "pune", "2018-12-21", "Quarterly", 2000,9,12),
    -> (4, "mohit rana", "chennai", "2022-02-11", "Quarterly", 19000,19,120),
    -> (4, Null , "chennai", "2025-02-11", "Lifetime", 29000,11,10),
    -> (6, "chinna swami" , "Idlipur", "2021-11-01", "Lifetime", 9000,1,100),
    -> (6, "divya bhati" , "gaziyabad", "2011-01-31", "Annual", 4000,14,20);
ERROR 1062 (23000): Duplicate entry '4' for key 'members.PRIMARY'
mysql> insert into members
    -> values
    -> (3, "vikas sharma", "pune", "2018-12-21", "Quarterly", 2000,9,12),
    -> (4, "mohit rana", "chennai", "2022-02-11", "Quarterly", 19000,19,120),
    -> (5, Null , "chennai", "2025-02-11", "Lifetime", 29000,11,10),
    -> (6, "chinna swami" , "Idlipur", "2021-11-01", "Lifetime", 9000,1,100),
    -> (7, "divya bhati" , "gaziyabad", "2011-01-31", "Annual", 4000,14,20);
Query OK, 5 rows affected (0.01 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> table memebrs;
ERROR 1146 (42S02): Table 'demodb.memebrs' doesn't exist
mysql> table memebers;
ERROR 1146 (42S02): Table 'demodb.memebers' doesn't exist
mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | Member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
|         2 | garima sen   | pune           | 2025-11-27    | Annual          |      1000 |                 3 |           NULL |
|         3 | vikas sharma | pune           | 2018-12-21    | Quarterly       |      2000 |                 9 |          12.00 |
|         4 | mohit rana   | chennai        | 2022-02-11    | Quarterly       |     19000 |                19 |         120.00 |
|         5 | NULL         | chennai        | 2025-02-11    | Lifetime        |     29000 |                11 |          10.00 |
|         6 | chinna swami | Idlipur        | 2021-11-01    | Lifetime        |      9000 |                 1 |         100.00 |
|         7 | divya bhati  | gaziyabad      | 2011-01-31    | Annual          |      4000 |                14 |          20.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
7 rows in set (0.00 sec)

mysql> alter table members
    -> modify member_name varchar(20);
Query OK, 7 rows affected (0.07 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> table memebers;
ERROR 1146 (42S02): Table 'demodb.memebers' doesn't exist
mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
|         2 | garima sen   | pune           | 2025-11-27    | Annual          |      1000 |                 3 |           NULL |
|         3 | vikas sharma | pune           | 2018-12-21    | Quarterly       |      2000 |                 9 |          12.00 |
|         4 | mohit rana   | chennai        | 2022-02-11    | Quarterly       |     19000 |                19 |         120.00 |
|         5 | NULL         | chennai        | 2025-02-11    | Lifetime        |     29000 |                11 |          10.00 |
|         6 | chinna swami | Idlipur        | 2021-11-01    | Lifetime        |      9000 |                 1 |         100.00 |
|         7 | divya bhati  | gaziyabad      | 2011-01-31    | Annual          |      4000 |                14 |          20.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
7 rows in set (0.00 sec)

mysql> insert into members
    -> values
    -> (8, "saumya shrey", "pune", "2018-10-2", "Annual", 2000,110,12);
Query OK, 1 row affected (0.01 sec)

mysql> create table member101 as select *from members;
Query OK, 8 rows affected (0.05 sec)
Records: 8  Duplicates: 0  Warnings: 0

mysql> describe member101;
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Field             | Type                                                | Null | Key | Default | Extra |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
| Member_id         | int                                                 | NO   |     | NULL    |       |
| member_name       | varchar(20)                                         | YES  |     | NULL    |       |
| Member_address    | varchar(50)                                         | YES  |     | NULL    |       |
| acc_open_date     | date                                                | YES  |     | NULL    |       |
| membership_type   | enum('Lifetime','Annual','Half Yearly','Quarterly') | YES  |     | NULL    |       |
| fees_paid         | int                                                 | YES  |     | NULL    |       |
| max_books_allowed | int                                                 | YES  |     | NULL    |       |
| penalty_amount    | decimal(7,2)                                        | YES  |     | NULL    |       |
+-------------------+-----------------------------------------------------+------+-----+---------+-------+
8 rows in set (0.01 sec)

mysql> alter table members
    -> add constraint check(max_books_allowed<100),
    -> add constraint check(penalty_amount<1000);
ERROR 3819 (HY000): Check constraint 'members_chk_1' is violated.
mysql> alter table members
    -> add constraint check(max_books_allowed<120),
    -> add constraint check(penalty_amount<1000);
Query OK, 8 rows affected (0.07 sec)
Records: 8  Duplicates: 0  Warnings: 0

mysql> shoe create table members;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'shoe create table members' at line 1
mysql> show create table members;
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| members | CREATE TABLE `members` (
  `Member_id` int NOT NULL,
  `member_name` varchar(20) DEFAULT NULL,
  `Member_address` varchar(50) DEFAULT NULL,
  `acc_open_date` date DEFAULT NULL,
  `membership_type` enum('Lifetime','Annual','Half Yearly','Quarterly') DEFAULT NULL,
  `fees_paid` int DEFAULT NULL,
  `max_books_allowed` int DEFAULT NULL,
  `penalty_amount` decimal(7,2) DEFAULT NULL,
  PRIMARY KEY (`Member_id`),
  CONSTRAINT `members_chk_1` CHECK ((`max_books_allowed` < 120)),
  CONSTRAINT `members_chk_2` CHECK ((`penalty_amount` < 1000))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table members
    -> drop constraint "members_chk_1";
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '"members_chk_1"' at line 2
mysql> alter table members
    -> drop constraint members_chk_1;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table members
    -> add constraint check(max_books_allowed < 120);
Query OK, 8 rows affected (0.10 sec)
Records: 8  Duplicates: 0  Warnings: 0

mysql> drop books;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'books' at line 1
mysql> drop table books;
Query OK, 0 rows affected (0.02 sec)

mysql> create table books
    -> describe issue;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'describe issue' at line 2
mysql> describe lib_issue;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> drop lib_issue;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'lib_issue' at line 1
mysql> drop table lib_issue;
Query OK, 0 rows affected (0.03 sec)

mysql> CREATE TABLE lib_issue (
    ->     Lib_Issue_Id INT,
    ->     Book_No INT,
    ->     Member_Id INT,
    ->     Issue_Date DATE,
    ->     Return_Date DATE
    -> );
Query OK, 0 rows affected (0.03 sec)

mysql> describe lib_issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| Lib_Issue_Id | int  | YES  |     | NULL    |       |
| Book_No      | int  | YES  |     | NULL    |       |
| Member_Id    | int  | YES  |     | NULL    |       |
| Issue_Date   | date | YES  |     | NULL    |       |
| Return_Date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> create table books
    -> (book_no int, book_name varchar(30),
    -> author_name varchar(30), cost decimal(7,2),category char(10));
Query OK, 0 rows affected (0.04 sec)

mysql> describe books;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| book_no     | int          | YES  |     | NULL    |       |
| book_name   | varchar(30)  | YES  |     | NULL    |       |
| author_name | varchar(30)  | YES  |     | NULL    |       |
| cost        | decimal(7,2) | YES  |     | NULL    |       |
| category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> drop table books;
Query OK, 0 rows affected (0.02 sec)

mysql> create table books
    -> (book_no int primary key, book_name varchar(30) Not null,
    -> author_name enum('system', 'fiction', 'database', 'RDBMS', 'others'),
    -> cost decimal(7,2),category char(10));
Query OK, 0 rows affected (0.04 sec)

mysql> describe books;
+-------------+------------------------------------------------------+------+-----+---------+-------+
| Field       | Type                                                 | Null | Key | Default | Extra |
+-------------+------------------------------------------------------+------+-----+---------+-------+
| book_no     | int                                                  | NO   | PRI | NULL    |       |
| book_name   | varchar(30)                                          | NO   |     | NULL    |       |
| author_name | enum('system','fiction','database','RDBMS','others') | YES  |     | NULL    |       |
| cost        | decimal(7,2)                                         | YES  |     | NULL    |       |
| category    | char(10)                                             | YES  |     | NULL    |       |
+-------------+------------------------------------------------------+------+-----+---------+-------+
5 rows in set (0.01 sec)

mysql> insert into books
    -> values
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2
mysql> alter table books
    -> modify author_name varchar(30);
Query OK, 0 rows affected (0.07 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table books
    -> modify category enum('system','fiction','database','RDBMS','others');
Query OK, 0 rows affected (0.07 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> describe books;
+-------------+------------------------------------------------------+------+-----+---------+-------+
| Field       | Type                                                 | Null | Key | Default | Extra |
+-------------+------------------------------------------------------+------+-----+---------+-------+
| book_no     | int                                                  | NO   | PRI | NULL    |       |
| book_name   | varchar(30)                                          | NO   |     | NULL    |       |
| author_name | varchar(30)                                          | YES  |     | NULL    |       |
| cost        | decimal(7,2)                                         | YES  |     | NULL    |       |
| category    | enum('system','fiction','database','RDBMS','others') | YES  |     | NULL    |       |
+-------------+------------------------------------------------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> describe books;
+-------------+------------------------------------------------------+------+-----+---------+-------+
| Field       | Type                                                 | Null | Key | Default | Extra |
+-------------+------------------------------------------------------+------+-----+---------+-------+
| book_no     | int                                                  | NO   | PRI | NULL    |       |
| book_name   | varchar(30)                                          | NO   |     | NULL    |       |
| author_name | varchar(30)                                          | YES  |     | NULL    |       |
| cost        | decimal(7,2)                                         | YES  |     | NULL    |       |
| category    | enum('system','fiction','database','RDBMS','others') | YES  |     | NULL    |       |
+-------------+------------------------------------------------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> insert into books
    -> values
    -> (101, "let us c", "denis ritchie", 450, "system"),
    -> (102, "oracle – complete ref", "loni", 550, "database"),
    -> (103, "mastering sql", "loni", 250, "database"),
    -> (104, "pl sql ref", "scott urman", 750, "database");
Query OK, 4 rows affected (0.01 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> table books;
+---------+-----------------------+---------------+--------+----------+
| book_no | book_name             | author_name   | cost   | category |
+---------+-----------------------+---------------+--------+----------+
|     101 | let us c              | denis ritchie | 450.00 | system   |
|     102 | oracle ? complete ref | loni          | 550.00 | database |
|     103 | mastering sql         | loni          | 250.00 | database |
|     104 | pl sql ref            | scott urman   | 750.00 | database |
+---------+-----------------------+---------------+--------+----------+
4 rows in set (0.00 sec)

mysql> insert into books
    -> values
    -> (105, "let's not connect", "ritchie denis", 850, "other"),
    -> (106, "python – incomplete ref", "dhoni", 950, "system"),
    -> (107, "mastering master", "boni", 500, "RDBMS"),
    -> (108, "hydrophobic water", "spider man", 999, "other");
ERROR 1265 (01000): Data truncated for column 'category' at row 1
mysql> insert into books
    -> values
    -> (105, "let's not connect", "ritchie denis", 850, "others"),
    -> (106, "python – incomplete ref", "dhoni", 950, "system"),
    -> (107, "mastering master", "boni", 500, "RDBMS"),
    -> (108, "hydrophobic water", "spider man", 999, "others");
Query OK, 4 rows affected (0.01 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> table books;
+---------+-------------------------+---------------+--------+----------+
| book_no | book_name               | author_name   | cost   | category |
+---------+-------------------------+---------------+--------+----------+
|     101 | let us c                | denis ritchie | 450.00 | system   |
|     102 | oracle ? complete ref   | loni          | 550.00 | database |
|     103 | mastering sql           | loni          | 250.00 | database |
|     104 | pl sql ref              | scott urman   | 750.00 | database |
|     105 | let's not connect       | ritchie denis | 850.00 | others   |
|     106 | python ? incomplete ref | dhoni         | 950.00 | system   |
|     107 | mastering master        | boni          | 500.00 | RDBMS    |
|     108 | hydrophobic water       | spider man    | 999.00 | others   |
+---------+-------------------------+---------------+--------+----------+
8 rows in set (0.00 sec)

mysql> insert into books
    -> values
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2
mysql> update books
    -> set book_no=109
    -> where book_no=105'
    '> ;
    '> '
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''
;
'' at line 3
mysql> update books
    -> set book_no=109
    -> where book_no=105;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> table books;
+---------+-------------------------+---------------+--------+----------+
| book_no | book_name               | author_name   | cost   | category |
+---------+-------------------------+---------------+--------+----------+
|     101 | let us c                | denis ritchie | 450.00 | system   |
|     102 | oracle ? complete ref   | loni          | 550.00 | database |
|     103 | mastering sql           | loni          | 250.00 | database |
|     104 | pl sql ref              | scott urman   | 750.00 | database |
|     106 | python ? incomplete ref | dhoni         | 950.00 | system   |
|     107 | mastering master        | boni          | 500.00 | RDBMS    |
|     108 | hydrophobic water       | spider man    | 999.00 | others   |
|     109 | let's not connect       | ritchie denis | 850.00 | others   |
+---------+-------------------------+---------------+--------+----------+
8 rows in set (0.00 sec)

mysql> insert into books
    -> values
    -> (105, "national geographic", "adis scott", 1000, "others");
Query OK, 1 row affected (0.01 sec)

mysql> table books;
+---------+-------------------------+---------------+---------+----------+
| book_no | book_name               | author_name   | cost    | category |
+---------+-------------------------+---------------+---------+----------+
|     101 | let us c                | denis ritchie |  450.00 | system   |
|     102 | oracle ? complete ref   | loni          |  550.00 | database |
|     103 | mastering sql           | loni          |  250.00 | database |
|     104 | pl sql ref              | scott urman   |  750.00 | database |
|     105 | national geographic     | adis scott    | 1000.00 | others   |
|     106 | python ? incomplete ref | dhoni         |  950.00 | system   |
|     107 | mastering master        | boni          |  500.00 | RDBMS    |
|     108 | hydrophobic water       | spider man    |  999.00 | others   |
|     109 | let's not connect       | ritchie denis |  850.00 | others   |
+---------+-------------------------+---------------+---------+----------+
9 rows in set (0.00 sec)

mysql> rename lib_issue to issue;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'lib_issue to issue' at line 1
mysql> rename table lib_issue to issue;
Query OK, 0 rows affected (0.03 sec)

mysql> table issue;
Empty set (0.00 sec)

mysql> drop table issue;
Query OK, 0 rows affected (0.02 sec)

mysql> create table issue
    -> (lib_issue_id int primary key, book_no int foreign key,
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'foreign key,' at line 2
mysql> create table issue
    -> (lib_issue_id int primary key, book_no int foreign key references books(book_no),
    -> member_id int foreign key references members(member_id),
    -> issue_date date, return_date date);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'foreign key references books(book_no),
member_id int foreign key references memb' at line 2
mysql> CREATE TABLE issue (
    ->     lib_issue_id INT PRIMARY KEY,
    ->     book_no INT,
    ->     member_id INT,
    ->     issue_date DATE,
    ->     return_date DATE,
    ->
    ->     FOREIGN KEY (book_no) REFERENCES books(book_no),
    ->     FOREIGN KEY (member_id) REFERENCES members(member_id)
    -> );
Query OK, 0 rows affected (0.08 sec)

mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
|         2 | garima sen   | pune           | 2025-11-27    | Annual          |      1000 |                 3 |           NULL |
|         3 | vikas sharma | pune           | 2018-12-21    | Quarterly       |      2000 |                 9 |          12.00 |
|         4 | mohit rana   | chennai        | 2022-02-11    | Quarterly       |     19000 |                19 |         120.00 |
|         5 | NULL         | chennai        | 2025-02-11    | Lifetime        |     29000 |                11 |          10.00 |
|         6 | chinna swami | Idlipur        | 2021-11-01    | Lifetime        |      9000 |                 1 |         100.00 |
|         7 | divya bhati  | gaziyabad      | 2011-01-31    | Annual          |      4000 |                14 |          20.00 |
|         8 | saumya shrey | pune           | 2018-10-02    | Annual          |      2000 |               110 |          12.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
8 rows in set (0.00 sec)

mysql> INSERT INTO issue (lib_issue_id, book_no, member_id, issue_date, return_date)
    -> VALUES
    -> (7001, 101, 1, '2006-12-10', NULL),
    -> (7002, 102, 2, '2006-12-25', NULL),
    -> (7003, 104, 1, '2006-01-15', NULL),
    -> (7004, 101, 1, '2006-07-04', NULL),
    -> (7005, 104, 2, '2006-11-15', NULL),
    -> (7006, 101, 3, '2006-02-18', NULL);
Query OK, 6 rows affected (0.01 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> show create table issue;
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_issue_id` int NOT NULL,
  `book_no` int DEFAULT NULL,
  `member_id` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL,
  PRIMARY KEY (`lib_issue_id`),
  KEY `book_no` (`book_no`),
  KEY `member_id` (`member_id`),
  CONSTRAINT `issue_ibfk_1` FOREIGN KEY (`book_no`) REFERENCES `books` (`book_no`),
  CONSTRAINT `issue_ibfk_2` FOREIGN KEY (`member_id`) REFERENCES `members` (`Member_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table issue
    -> drop constraint issue_ibfk_1,
    -> drop constraint issue_ibfk_2;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> show create table issue;
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                             |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_issue_id` int NOT NULL,
  `book_no` int DEFAULT NULL,
  `member_id` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL,
  PRIMARY KEY (`lib_issue_id`),
  KEY `book_no` (`book_no`),
  KEY `member_id` (`member_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table issue
    -> drop constraint PRIMARY KEY;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PRIMARY KEY' at line 2
mysql> alter table issue
    -> drop constraint lib_issue_id,
    -> drop constraint book_no,
    -> drop constraint member_id;
ERROR 3940 (HY000): Constraint 'lib_issue_id' does not exist.
mysql> alter table issue
    -> drop primary key,
    -> drop index book_no,
    -> drop index member_id;
Query OK, 6 rows affected (0.06 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> table issue;
+--------------+---------+-----------+------------+-------------+
| lib_issue_id | book_no | member_id | issue_date | return_date |
+--------------+---------+-----------+------------+-------------+
|         7001 |     101 |         1 | 2006-12-10 | NULL        |
|         7002 |     102 |         2 | 2006-12-25 | NULL        |
|         7003 |     104 |         1 | 2006-01-15 | NULL        |
|         7004 |     101 |         1 | 2006-07-04 | NULL        |
|         7005 |     104 |         2 | 2006-11-15 | NULL        |
|         7006 |     101 |         3 | 2006-02-18 | NULL        |
+--------------+---------+-----------+------------+-------------+
6 rows in set (0.00 sec)

mysql> INSERT INTO issue (lib_issue_id, book_no, member_id, issue_date, return_date)
    -> VALUES
    -> (NULL, 107, 3, '2006-12-02', NULL);
ERROR 1048 (23000): Column 'lib_issue_id' cannot be null
mysql> show create table issue;
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                               |
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_issue_id` int NOT NULL,
  `book_no` int DEFAULT NULL,
  `member_id` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table issue
    -> modify lib_issue_id int NULL;
Query OK, 0 rows affected (0.09 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> INSERT INTO issue (lib_issue_id, book_no, member_id, issue_date, return_date)
    -> VALUES
    -> (NULL, 107, 3, '2006-12-02', NULL);
Query OK, 1 row affected (0.01 sec)

mysql> alter table issue
    -> add constraint primary key(lib_issue_id),
    -> add constraint foreign key(book_no) refereances books(book_no),
    -> add constraint foreign key(member_id) refereances members(member_id);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'refereances books(book_no),
add constraint foreign key(member_id) refereances me' at line 3
mysql> alter table issue
    -> add primary key(lib_issue_id),
    -> add constraint foreign key(book_no) refereances books(book_no),
    -> add constraint foreign key(member_id) refereances members(member_id);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'refereances books(book_no),
add constraint foreign key(member_id) refereances me' at line 3
mysql> ALTER TABLE issue
    ->     ADD PRIMARY KEY (lib_issue_id),
    ->     ADD CONSTRAINT fk_issue_book
    ->         FOREIGN KEY (book_no) REFERENCES books(book_no),
    ->     ADD CONSTRAINT fk_issue_member
    ->         FOREIGN KEY (member_id) REFERENCES members(member_id);
ERROR 1265 (01000): Data truncated for column 'lib_issue_id' at row 7
mysql> delete from table issue where lib_issue_id is null;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'table issue where lib_issue_id is null' at line 1
mysql> delete from issue where lib_issue_id is null;
Query OK, 1 row affected (0.01 sec)

mysql> ALTER TABLE issue
    -> ADD PRIMARY KEY (lib_issue_id),
    -> ADD CONSTRAINT fk_issue_book
    -> FOREIGN KEY (member_id) REFERENCES members(member_id);
Query OK, 6 rows affected (0.10 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE issue
    -> ;
Query OK, 0 rows affected (0.01 sec)

mysql> ALTER TABLE issue
    -> DROP FOREIGN KEY fk_issue_book;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE issue
    -> ADD PRIMARY KEY (lib_issue_id),
    -> ADD CONSTRAINT fk_issue_book  FOREIGN KEY (book_no) REFERENCES books(book_no),
    -> ADD CONSTRAINT fk_issue_member FOREIGN KEY (member_id) REFERENCES members(member_id);
ERROR 1068 (42000): Multiple primary key defined
mysql> ALTER TABLE issue
    -> ADD CONSTRAINT fk_issue_book  FOREIGN KEY (book_no) REFERENCES books(book_no),
    -> ADD CONSTRAINT fk_issue_member FOREIGN KEY (member_id) REFERENCES members(member_id);
Query OK, 6 rows affected (0.11 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> delete from members
    -> where member_id=1;
ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`demodb`.`issue`, CONSTRAINT `fk_issue_member` FOREIGN KEY (`member_id`) REFERENCES `members` (`Member_id`))
mysql> show create table members;
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| members | CREATE TABLE `members` (
  `Member_id` int NOT NULL,
  `member_name` varchar(20) DEFAULT NULL,
  `Member_address` varchar(50) DEFAULT NULL,
  `acc_open_date` date DEFAULT NULL,
  `membership_type` enum('Lifetime','Annual','Half Yearly','Quarterly') DEFAULT NULL,
  `fees_paid` int DEFAULT NULL,
  `max_books_allowed` int DEFAULT NULL,
  `penalty_amount` decimal(7,2) DEFAULT NULL,
  PRIMARY KEY (`Member_id`),
  CONSTRAINT `members_chk_2` CHECK ((`penalty_amount` < 1000)),
  CONSTRAINT `members_chk_3` CHECK ((`max_books_allowed` < 120))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> table members;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_id | member_name  | Member_address | acc_open_date | membership_type | fees_paid | max_books_allowed | penalty_amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | richa sharma | pune           | 2010-12-05    | Lifetime        |     25000 |                 5 |          50.00 |
|         2 | garima sen   | pune           | 2025-11-27    | Annual          |      1000 |                 3 |           NULL |
|         3 | vikas sharma | pune           | 2018-12-21    | Quarterly       |      2000 |                 9 |          12.00 |
|         4 | mohit rana   | chennai        | 2022-02-11    | Quarterly       |     19000 |                19 |         120.00 |
|         5 | NULL         | chennai        | 2025-02-11    | Lifetime        |     29000 |                11 |          10.00 |
|         6 | chinna swami | Idlipur        | 2021-11-01    | Lifetime        |      9000 |                 1 |         100.00 |
|         7 | divya bhati  | gaziyabad      | 2011-01-31    | Annual          |      4000 |                14 |          20.00 |
|         8 | saumya shrey | pune           | 2018-10-02    | Annual          |      2000 |               110 |          12.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
8 rows in set (0.00 sec)

mysql> show create table issue;
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_issue_id` int NOT NULL,
  `book_no` int DEFAULT NULL,
  `member_id` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL,
  PRIMARY KEY (`lib_issue_id`),
  KEY `fk_issue_book` (`book_no`),
  KEY `fk_issue_member` (`member_id`),
  CONSTRAINT `fk_issue_book` FOREIGN KEY (`book_no`) REFERENCES `books` (`book_no`),
  CONSTRAINT `fk_issue_member` FOREIGN KEY (`member_id`) REFERENCES `members` (`Member_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> table issue;
+--------------+---------+-----------+------------+-------------+
| lib_issue_id | book_no | member_id | issue_date | return_date |
+--------------+---------+-----------+------------+-------------+
|         7001 |     101 |         1 | 2006-12-10 | NULL        |
|         7002 |     102 |         2 | 2006-12-25 | NULL        |
|         7003 |     104 |         1 | 2006-01-15 | NULL        |
|         7004 |     101 |         1 | 2006-07-04 | NULL        |
|         7005 |     104 |         2 | 2006-11-15 | NULL        |
|         7006 |     101 |         3 | 2006-02-18 | NULL        |
+--------------+---------+-----------+------------+-------------+
6 rows in set (0.00 sec)

mysql> show create table books;
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                    |
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| books | CREATE TABLE `books` (
  `book_no` int NOT NULL,
  `book_name` varchar(30) NOT NULL,
  `author_name` varchar(30) DEFAULT NULL,
  `cost` decimal(7,2) DEFAULT NULL,
  `category` enum('system','fiction','database','RDBMS','others') DEFAULT NULL,
  PRIMARY KEY (`book_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> table books;
+---------+-------------------------+---------------+---------+----------+
| book_no | book_name               | author_name   | cost    | category |
+---------+-------------------------+---------------+---------+----------+
|     101 | let us c                | denis ritchie |  450.00 | system   |
|     102 | oracle ? complete ref   | loni          |  550.00 | database |
|     103 | mastering sql           | loni          |  250.00 | database |
|     104 | pl sql ref              | scott urman   |  750.00 | database |
|     105 | national geographic     | adis scott    | 1000.00 | others   |
|     106 | python ? incomplete ref | dhoni         |  950.00 | system   |
|     107 | mastering master        | boni          |  500.00 | RDBMS    |
|     108 | hydrophobic water       | spider man    |  999.00 | others   |
|     109 | let's not connect       | ritchie denis |  850.00 | others   |
+---------+-------------------------+---------------+---------+----------+
9 rows in set (0.00 sec)

mysql> update from issue
    -> set return_date=DATE_ADD(issue_date, INTERVAL 15 DAY)
    -> where lib_issue_id=7004 or lib_issue_id=7004;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from issue
set return_date=DATE_ADD(issue_date, INTERVAL 15 DAY)
where lib_issue' at line 1
mysql> update from issue
    -> set return_date=DATE_ADD(issue_date, INTERVAL 15 DAY)
    -> where lib_issue_id in(7004,7005);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from issue
set return_date=DATE_ADD(issue_date, INTERVAL 15 DAY)
where lib_issue' at line 1
mysql> update issue
    -> set return_date=DATE_ADD(issue_date, INTERVAL 15 DAY)
    -> where lib_issue_id=7004 or lib_issue_id=7004;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> table issue;
+--------------+---------+-----------+------------+-------------+
| lib_issue_id | book_no | member_id | issue_date | return_date |
+--------------+---------+-----------+------------+-------------+
|         7001 |     101 |         1 | 2006-12-10 | NULL        |
|         7002 |     102 |         2 | 2006-12-25 | NULL        |
|         7003 |     104 |         1 | 2006-01-15 | NULL        |
|         7004 |     101 |         1 | 2006-07-04 | 2006-07-19  |
|         7005 |     104 |         2 | 2006-11-15 | NULL        |
|         7006 |     101 |         3 | 2006-02-18 | NULL        |
+--------------+---------+-----------+------------+-------------+
6 rows in set (0.00 sec)

mysql> update issue
    -> set return_date=DATE_ADD(issue_date, INTERVAL 15 DAY)
    -> where lib_issue_id in(7004,7005);
Query OK, 1 row affected (0.01 sec)
Rows matched: 2  Changed: 1  Warnings: 0

mysql> table issue;
+--------------+---------+-----------+------------+-------------+
| lib_issue_id | book_no | member_id | issue_date | return_date |
+--------------+---------+-----------+------------+-------------+
|         7001 |     101 |         1 | 2006-12-10 | NULL        |
|         7002 |     102 |         2 | 2006-12-25 | NULL        |
|         7003 |     104 |         1 | 2006-01-15 | NULL        |
|         7004 |     101 |         1 | 2006-07-04 | 2006-07-19  |
|         7005 |     104 |         2 | 2006-11-15 | 2006-11-30  |
|         7006 |     101 |         3 | 2006-02-18 | NULL        |
+--------------+---------+-----------+------------+-------------+
6 rows in set (0.00 sec)

mysql> delete from issue
    -> where member_id=1 and issue_date<"2006-12-10";
Query OK, 2 rows affected (0.01 sec)

mysql> table issue;
+--------------+---------+-----------+------------+-------------+
| lib_issue_id | book_no | member_id | issue_date | return_date |
+--------------+---------+-----------+------------+-------------+
|         7001 |     101 |         1 | 2006-12-10 | NULL        |
|         7002 |     102 |         2 | 2006-12-25 | NULL        |
|         7005 |     104 |         2 | 2006-11-15 | 2006-11-30  |
|         7006 |     101 |         3 | 2006-02-18 | NULL        |
+--------------+---------+-----------+------------+-------------+
4 rows in set (0.00 sec)

mysql> delete from books
    -> where category not in ('rdbms', 'database');
ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`demodb`.`issue`, CONSTRAINT `fk_issue_book` FOREIGN KEY (`book_no`) REFERENCES `books` (`book_no`))
mysql> delete from issue
    -> where book_no in (select book_no from books where category not in ('rdbms', 'database'));
Query OK, 2 rows affected (0.01 sec)

mysql> delete from books
    -> where category not in ('rdbms', 'database');
Query OK, 5 rows affected (0.01 sec)

mysql> drop table members;
ERROR 3730 (HY000): Cannot drop table 'members' referenced by a foreign key constraint 'fk_issue_member' on table 'issue'.
mysql> show create table issue;
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_issue_id` int NOT NULL,
  `book_no` int DEFAULT NULL,
  `member_id` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL,
  PRIMARY KEY (`lib_issue_id`),
  KEY `fk_issue_book` (`book_no`),
  KEY `fk_issue_member` (`member_id`),
  CONSTRAINT `fk_issue_book` FOREIGN KEY (`book_no`) REFERENCES `books` (`book_no`),
  CONSTRAINT `fk_issue_member` FOREIGN KEY (`member_id`) REFERENCES `members` (`Member_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table issue
    -> drop foreign key fk_issue_book,
    -> drop foreign key fk_issue_member;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> drop table members;
Query OK, 0 rows affected (0.03 sec)

mysql> drop table books;
Query OK, 0 rows affected (0.02 sec)

mysql> show tables;
+------------------+
| Tables_in_demodb |
+------------------+
| countries        |
| department       |
| emp              |
| issue            |
| job_history      |
| jobs             |
| manager          |
| member101        |
+------------------+
8 rows in set (0.01 sec)

mysql> table issue;
+--------------+---------+-----------+------------+-------------+
| lib_issue_id | book_no | member_id | issue_date | return_date |
+--------------+---------+-----------+------------+-------------+
|         7002 |     102 |         2 | 2006-12-25 | NULL        |
|         7005 |     104 |         2 | 2006-11-15 | 2006-11-30  |
+--------------+---------+-----------+------------+-------------+
2 rows in set (0.00 sec)

mysql>